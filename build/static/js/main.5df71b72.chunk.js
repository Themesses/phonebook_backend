(this.webpackJsonpclean=this.webpackJsonpclean||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),r=t(14),c=t.n(r),l=t(4),o=t(2),i=function(e){var n=e.value,t=e.onChange;return u.a.createElement("div",null,"Filter Entries: ",u.a.createElement("input",{value:n,onChange:t}))},m=function(e){var n=e.formOnSubmit,t=e.nameValue,a=e.nameOnChange,r=e.numberValue,c=e.numberOnChange,l=e.buttonType;return u.a.createElement("form",{onSubmit:n},u.a.createElement("div",null,"Name: ",u.a.createElement("input",{value:t,onChange:a})),u.a.createElement("div",null,"Number: ",u.a.createElement("input",{value:r,onChange:c})),u.a.createElement("div",null,u.a.createElement("button",{type:l},"Add")))},f=function(e){var n=e.newSearch,t=e.persons,a=e.filterResults,r=e.onClick;return u.a.createElement("div",null,""!==n?a.map((function(e){return u.a.createElement("div",{key:e.name},u.a.createElement("p",null,e.name," ",e.number))})):t.map((function(e){return u.a.createElement("div",{key:e.name},u.a.createElement("p",null,e.name," ",e.number," ",u.a.createElement("button",{onClick:function(){return r("".concat(e.id))}},"Delete ID# ",e.id)))})))},s=t(3),d=t.n(s),h="http://localhost:3001/api/persons",b=function(){return d.a.get(h).then((function(e){return e.data}))},E=function(e){return d.a.post(h,e).then((function(e){return e.data}))},p=function(e,n){return d.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))},v=function(e){return!0===window.confirm(e)?d.a.delete("".concat(h,"/").concat(e)).then(alert("done")):d.a.delete(null).then((function(e){return e.data}))},g=function(e){var n=e.message;return null===n?null:u.a.createElement("div",{className:"error"},n)},O=function(e){var n=e.message;return null===n?null:u.a.createElement("div",{className:"confirmation"},n)},j=(t(37),function(){var e=Object(a.useState)(""),n=Object(o.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),s=Object(o.a)(c,2),d=s[0],h=s[1],j=Object(a.useState)(""),w=Object(o.a)(j,2),C=w[0],S=w[1],k=Object(a.useState)([]),y=Object(o.a)(k,2),N=y[0],T=y[1],R=Object(a.useState)(null),V=Object(o.a)(R,2),x=V[0],A=V[1],D=Object(a.useState)(null),I=Object(o.a)(D,2),J=I[0],P=I[1];Object(a.useEffect)((function(){b().then((function(e){T(e)}))}),[]);var B=function(e){var n=e.id,t=e,a=Object(l.a)(Object(l.a)({},t),{},{number:d});p(n,a).then((function(e){T(N.map((function(t){return t.id!==n?t:e}))),P("Number for '".concat(e.name,"' has been changed")),setTimeout((function(){P(null)}),3e3)}))},F=function(e){A("Nothing changed"),setTimeout((function(){A(null)}),3e3)},M=new RegExp(C,"gi"),q=N.filter((function(e){return e.name.match(M)}));return u.a.createElement("div",null,u.a.createElement("h2",null,"Phonebook"),u.a.createElement(O,{message:J}),u.a.createElement(g,{message:x}),u.a.createElement(i,{value:C,onChange:function(e){S(e.target.value)}}),u.a.createElement("h2",null,"Add New"),u.a.createElement(m,{formOnSubmit:function(e){e.preventDefault();var n=N.map((function(e){return e.name}));!1===new RegExp(t).test(n)?E({name:t,number:d}).then((function(e){T(N.concat(e)),P("Added '".concat(e.name,"' to the Phonebook")),setTimeout((function(){P(null)}),3e3),r(""),h("")})):(!0===window.confirm("".concat(t," is already added, replace the old number with a new one?"))?B(N.find((function(e){return e.name===t}))):F(N.find((function(e){return e.name===t}))),r(""),h(""))},nameValue:t,nameOnChange:function(e){r(e.target.value)},numberValue:d,numberOnChange:function(e){h(e.target.value)},buttonType:"submit"}),u.a.createElement("h2",null,"Numbers"),u.a.createElement(f,{newSearch:C,persons:N,filterResults:q,onClick:function(e){console.log("button clicked",e);var n=parseInt(e),t=N.find((function(e){return e.id===n}));console.log("person:",t.id),v(n).then((function(e){console.log("returned note:",e),T(N.filter((function(e){return e.id!==n}))),P("'".concat(t.name,"' deleted")),setTimeout((function(){P(null)}),3e3)})).catch((function(e){A("The entry with the name '".concat(t.name,"' has been prviously delated")),setTimeout((function(){A(null)}),3e3),T(N.filter((function(e){return e.id!==n})))}))}}))});c.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(j,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.5df71b72.chunk.js.map