{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","services/persons.js","Notification.js","ConfirmationNotification.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","formOnSubmit","nameValue","nameOnChange","numberValue","numberOnChange","buttonType","onSubmit","type","Persons","newSearch","persons","filterResults","onClick","map","item","key","name","number","id","baseUrl","axios","get","then","response","data","newObject","post","put","window","confirm","delete","alert","ErrorNotification","message","className","ConfirmationNotification","App","useState","newName","setNewName","newPhone","setNewPhone","setNewSearch","setPersons","errorMessage","setErrorMessage","confirmationMessage","setConfirmationMessage","useEffect","personService","initialPersons","handleEntryChange","props","entry","changedEntry","returnedEntry","setTimeout","handleNoChange","regex","RegExp","filter","match","event","target","preventDefault","stringToCheck","test","returnedPerson","concat","find","n","console","log","parseInt","person","returnedNote","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5df71b72.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ value, onChange }) => {\n  return (\n    <div>\n      Filter Entries: <input value={value} onChange={onChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  formOnSubmit,\n  nameValue,\n  nameOnChange,\n  numberValue,\n  numberOnChange,\n  buttonType\n}) => {\n  return (\n    <form onSubmit={formOnSubmit}>\n      <div>\n        Name: <input value={nameValue} onChange={nameOnChange} />\n      </div>\n      <div>\n        Number: <input value={numberValue} onChange={numberOnChange} />\n      </div>\n      <div>\n        <button type={buttonType}>Add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ newSearch, persons, filterResults, onClick }) => {\n  return (\n    <div>\n      {newSearch !== \"\"\n        ? filterResults.map(item => (\n            <div key={item.name}>\n              <p>\n                {item.name} {item.number}\n              </p>\n            </div>\n          ))\n        : persons.map(item => (\n            <div key={item.name}>\n              <p>\n                {item.name} {item.number}{\" \"}\n                <button onClick={() => onClick(`${item.id}`)}>\n                  Delete ID# {item.id}\n                </button>\n              </p>\n            </div>\n          ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n} \n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const confirm = window.confirm(id)\n  if (confirm === true) {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(alert('done'))\n  } else {\n    const request = axios.delete(null)\n    return request.then(response => response.data)\n  }\n  // const request = axios.delete(`${baseUrl}/${id}`)\n  // const confirm = window.confirm(`You are deleting resource number ${id}`)\n  // if (confirm === true) {\n    // return request.then(alert('done'))\n  // }\n}\n\nexport default { getAll, create, update, remove }\n","import React from 'react'\n\nconst ErrorNotification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  \n  return (\n    <div className=\"error\">\n    {message}\n    </div>\n  )\n}\n\nexport default ErrorNotification\n","import React from 'react'\n\nconst ConfirmationNotification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"confirmation\">\n      {message}\n    </div>\n  )\n}\n\nexport default ConfirmationNotification\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./Filter\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport personService from \"./services/persons\";\nimport ErrorNotification from \"./Notification\"\nimport ConfirmationNotification from \"./ConfirmationNotification\"\nimport \"./index.css\"\n\nconst App = () => {\n  const [newName, setNewName] = useState(\"\");\n  const [newPhone, setNewPhone] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [persons, setPersons] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [confirmationMessage, setConfirmationMessage] = useState(null)\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const addNumber = event => {\n    event.preventDefault();\n\n    //check for duplicates\n    let stringToCheck = persons.map(item => item.name);\n    let stringToChekAgainst = newName;\n    let myRegEx = new RegExp(stringToChekAgainst);\n\n    let pass = myRegEx.test(stringToCheck);\n\n    //Conditional rendering if there is no duplicates\n    if (pass === false) {\n      const nameObject = {\n        name: newName,\n        number: newPhone\n      };\n\n      personService.create(nameObject).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        setConfirmationMessage(`Added '${returnedPerson.name}' to the Phonebook`)\n        setTimeout(() => {\n          setConfirmationMessage(null)\n        }, 3000)\n        setNewName(\"\");\n        setNewPhone(\"\");\n      });\n    } else {\n      window.confirm(\n        `${newName} is already added, replace the old number with a new one?`\n      ) === true\n        ? handleEntryChange(persons.find(n => n.name === newName))\n        : handleNoChange(persons.find(n => n.name === newName))\n      setNewName(\"\");\n      setNewPhone(\"\");\n    }\n  };\n\n  const handleEntryChange = props => {\n    const id = props.id;\n    const entry = props;\n    const changedEntry = { ...entry, number: newPhone };\n\n    personService.update(id, changedEntry).then(returnedEntry => {\n      setPersons(\n        persons.map(entry => (entry.id !== id ? entry : returnedEntry))\n      );\n      setConfirmationMessage(`Number for '${returnedEntry.name}' has been changed`)\n      setTimeout(() => {\n        setConfirmationMessage(null)\n      }, 3000)\n    });\n  };\n\n  const handleNoChange = props => {\n    const entry = props\n\n    setErrorMessage(`Nothing changed`)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 3000)\n  }\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNewPhone(event.target.value);\n  };\n\n  const findMatches = event => {\n    setNewSearch(event.target.value);\n  };\n\n  const regex = new RegExp(newSearch, \"gi\");\n  const filterResults = persons.filter(item => item.name.match(regex));\n\n  const handleClick = props => {\n    console.log(\"button clicked\", props);\n    const id = parseInt(props);\n    const person = persons.find(n => n.id === id);\n\n    console.log(\"person:\", person.id);\n\n    personService.remove(id).then(returnedNote => {\n      console.log('returned note:', returnedNote)\n      // console.log(window.confirm)\n      setPersons(persons.filter(n => n.id !== id));\n      setConfirmationMessage(`'${person.name}' deleted`)\n      setTimeout(() => {\n        setConfirmationMessage(null)\n      }, 3000)\n    })\n      .catch(error => {\n        setErrorMessage(`The entry with the name '${person.name}' has been prviously delated`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 3000)\n        setPersons(persons.filter(n => n.id !== id))\n      })\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <ConfirmationNotification message={confirmationMessage} />\n      <ErrorNotification message={errorMessage} />\n      <Filter value={newSearch} onChange={findMatches} />\n      <h2>Add New</h2>\n      <PersonForm\n        formOnSubmit={addNumber}\n        nameValue={newName}\n        nameOnChange={handleNameChange}\n        numberValue={newPhone}\n        numberOnChange={handleNumberChange}\n        buttonType=\"submit\"\n      />\n      <h2>Numbers</h2>\n      <Persons\n        newSearch={newSearch}\n        persons={persons}\n        filterResults={filterResults}\n        onClick={handleClick}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}